function plexifyCarouselAround(){if(document.querySelector(".pxl-history-carousel .item-slide")){gsap.registerPlugin(Draggable,InertiaPlugin);let o=((a,{radiusX:n,radiusY:i,activeAngle:e,activeElement:s,onClick:t,onActivate:o,onDeactivate:r,onStart:l,onStop:u,draggable:c,autoAdvance:p})=>{a=gsap.utils.toArray(a),gsap.set(a,{xPercent:-50,x:0,yPercent:-50,y:0});let d=Math.PI/180,m=("ontouchstart"in document.documentElement?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in document.documentElement?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),g=e=>Math.round(1e4*e)/1e4,h=document.createElement("div"),v=a.length,f=360/v,y=gsap.utils.wrap(0,v),w=gsap.utils.wrap(0,360),x=0,E,b,L=p&&gsap.delayedCall(parseFloat(p)||2,()=>{k.next(),L.restart(!0)}),S=a.map(e=>gsap.quickSetter(e,"x","px")),A=a.map(e=>gsap.quickSetter(e,"y","px")),k={rotation(e){var t;return arguments.length&&(t=s,x=w(e),s=a[y(Math.round(-e/f))],k.render(),t!==s)&&(r&&t&&r(t,k),o)&&o(s,k),x},resize(e,t){n=e,i=t,k.render()},render(){k.render=function(){let t=f*d,o=(x+e)*d,r=a.indexOf(s);a.forEach(e=>e.classList.remove("active"));for(let e=0;e<v;e++)S[e](g(Math.cos(o)*n)),A[e](g(Math.sin(o)*i)),e===r?(gsap.to(a[e],{opacity:1,rotate:0,duration:.4,ease:"power1.out"}),a[e].classList.add("active")):e===y(r-1)||e===y(r+1)?gsap.to(a[e],{opacity:1,rotate:e===y(r-1)?-10:10,duration:.4,ease:"power1.out"}):e===y(r-2)||e===y(r+2)?gsap.to(a[e],{opacity:0,rotate:e===y(r-2)?-20:20,duration:.4,ease:"power1.out"}):e===y(r-3)||e===y(r+3)?gsap.to(a[e],{opacity:0,rotate:e===y(r-3)?-40:40,duration:.4,ease:"power1.out"}):gsap.to(a[e],{opacity:0,rotate:0,duration:.4,ease:"power1.out"}),o+=t}},activeElement(e){return arguments.length&&k.rotation(k.elementRotation(e)),s},elementRotation(e){e=a.indexOf(gsap.utils.toArray(e)[0]);return(v-e)*f},to(e,t,o){(t=t||{}).rotation="number"==typeof e?e:k.elementRotation(e)||parseFloat(e),t.overwrite=!0;let{onUpdate:r,onComplete:a}=t,n=t.onStart;if(L&&L.pause(),t.onStart=function(){l&&l(s,k),n&&n.call(this)},t.onComplete=function(){u&&u(s,k),a&&a.call(this),L&&L.restart(!0)},o){let e=gsap.getProperty(h);return t.onUpdate=function(){k.rotation(e("rotation")),r&&r.call(this)},t.rotation+="_"+o,gsap.fromTo(h,{rotation:x},t)}return gsap.to(k,t)},next(e,t){e={...e,duration:1};var o=a[y(a.indexOf(s)+2)];k.to(o,e,t||"ccw")},previous(e,t){e={...e,duration:1};var o=a[y(a.indexOf(s)-2)];k.to(o,e,t||"cw")},kill(){a.forEach(e=>{e.removeEventListener("click",q),e.removeEventListener(m[0],C),e.removeEventListener(m[2],M),e.removeEventListener(m[3],M)}),gsap.killTweensOf(k),h.parentNode&&h.parentNode.removeChild(h),L&&L.kill(),c&&c.kill()},autoAdvance:L},q=e=>{E||(L&&L.restart(!0),t&&t(e.currentTarget,k))},C=e=>{b=x,gsap.set(h,{rotation:x}),L&&L.pause(),gsap.killTweensOf(k),c.startDrag(e),E=!1},M=e=>{c.endDrag(e),x===b&&(L&&L.restart(!0),c.tween&&c.tween.kill(),q(e))},O=()=>{E||(l&&l(s,k),E=!0),k.rotation(c.rotation)};return a[0].parentNode.appendChild(h),gsap.set(h,{visibility:"hidden",position:"absolute",width:0,height:0,top:"50%",left:"50%",xPercent:-50,yPercent:-50}),a.forEach(e=>{c?(e.addEventListener(m[0],C),e.addEventListener(m[2],M),e.addEventListener(m[3],M)):e.addEventListener("click",q)}),k.snap=f,c&&(k.draggable=c=Draggable.create(h,{type:"rotation",snap:gsap.utils.snap(2*f),inertia:!0,onThrowComplete:()=>{L&&L.restart(!0),u&&u(s,k)},onThrowUpdate:O,onDrag:O})[0]),k.activeElement(gsap.utils.toArray(s)[0]||a[0]),k})(gsap.utils.toArray(".pxl-history-carousel .item-slide"),{radiusX:1060,radiusY:800,activeAngle:-90,draggable:!0,onClick(e,t){t.to(e,{duration:3,ease:"linear"},"short")},onActivate(t,e){var o=document.querySelectorAll(".pxl-history-carousel .item-slide"),r=document.querySelector(".pxl-swiper-thumbs"),a=document.querySelector(".pxl-thumbs-wrapper"),n=document.querySelectorAll(".thumb-item");if(o.length&&n.length&&a&&r){n.forEach(e=>e.classList.remove("active"));o=Array.from(o).indexOf(t),t=Math.floor(o/2),o=n.length;let e=(Math.floor(o/2)+t%(o/3)-Math.floor(o/6))%o;e<0&&(e+=o);t=n[e];t&&(t.classList.add("active"),o=-(t.offsetLeft-r.offsetWidth/2+t.offsetWidth/2),gsap.to(a,{x:o,duration:.5,ease:"power2.out"}))}}});o.render();var e=document.querySelector(".pxl-swiper-thumbs");e&&(new ResizeObserver(t).observe(e),setTimeout(t,100));let r=!1;e=document.querySelector(".pxl-history-carousel.layout-1");function t(){var e=document.querySelector(".pxl-swiper-thumbs"),t=document.querySelector(".pxl-thumbs-wrapper"),o=document.querySelector(".thumb-item.active")||document.querySelector(".thumb-item");e&&t&&o&&(e=-(o.offsetLeft-e.offsetWidth/2+o.offsetWidth/2),gsap.to(t,{x:e,duration:.8,ease:"power2.out"}))}e&&void 0!==o&&e.addEventListener("click",e=>{var t=e.target.closest(".pxl-swiper-arrow-prev"),e=e.target.closest(".pxl-swiper-arrow-next");!t&&!e||r||(r=!0,t?o.previous():e&&o.next(),setTimeout(()=>{r=!1},500))})}}document.addEventListener("DOMContentLoaded",function(){plexifyCarouselAround()});