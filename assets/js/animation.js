let plexifyGsap=function(){gsap.registerPlugin(ScrollTrigger,ScrollSmoother,MotionPathPlugin,SplitText);let a,t=(a=a||ScrollSmoother.create({smooth:2,effects:!0,normalizeScroll:!0,smoothTouch:.1}),()=>{var e=document.getElementById("animatedCircle");if(!e)return;let o=document.querySelectorAll(".service-card-box"),s=document.getElementById("circleStepsContainer"),n=e;if(!o.length||!s||!n)return;window.circleTriggers&&Array.isArray(window.circleTriggers)&&window.circleTriggers.forEach(e=>e.kill()),window.circleTriggers=[],s.innerHTML="";let a=o.length,l,c,t;c=window.innerWidth<1680?(t=620,l=310,t/2):(t=717,l=355,358.5),n.style.width=t+"px",n.style.height=t+"px",o.forEach((e,t)=>{var r=360/a*t*Math.PI/180,i=c+l*Math.cos(r)-25,r=c+l*Math.sin(r)-25,o=document.createElement("div");o.className="step flex items-center justify-center absolute dark:bg-bg4 bg-[#F3F6E9] text-[#979797] size-50 rounded-full text-xl font-bold duration-500",o.style.left=i+"px",o.style.top=r+"px",o.textContent=String(t+1).padStart(2,"0"),s.appendChild(o)});e=ScrollTrigger.create({trigger:".circle-sticky-content",start:"top top",endTrigger:".circle-content-over",end:"bottom-=950",pin:!0,pinSpacing:!1});window.circleTriggers.push(e),o.forEach((e,t)=>{e=ScrollTrigger.create({trigger:e,start:"top center",end:"bottom center",onEnter:()=>r(t),onEnterBack:()=>r(t)});window.circleTriggers.push(e)});let r=r=>{var e=o[r],t=(gsap.to(n,{rotate:r*(-360/a),duration:.4,ease:"power2.out"}),document.getElementById("circleText")),t=(t&&(gsap.set(t,{opacity:1,visibility:"visible"}),t._splitInstance?.revert&&t._splitInstance.revert(),t.innerHTML="",t.innerHTML=e?.dataset?.title||"",i=new SplitText(t,{type:"words",wordsClass:"word"}),(t._splitInstance=i).words.forEach(e=>{var t=document.createElement("div");t.className="word-box",e.parentNode.insertBefore(t,e),t.appendChild(e)}),gsap.from(".word-box",{opacity:0,y:60,rotationX:90,duration:1.2,ease:"back.out(1.7)",stagger:.07})),document.getElementById("circleIcon")),i=e?.querySelector(".service-icon");t&&i&&(t.innerHTML=i.innerHTML,e=t.querySelector("svg"))&&gsap.fromTo(e,{scale:.5,opacity:0,rotate:-20},{scale:1,opacity:1,rotate:0,duration:.5,ease:"back.out(1.7)",transformOrigin:"center center"}),document.querySelectorAll(".step").forEach((e,t)=>{t===r||t===r-1||t===r+1?(e.style.opacity=1,e.style.visibility="visible",e.classList.toggle("active",t===r),t===r&&document.querySelectorAll(".step").forEach(e=>{e.style.rotate=r*(360/a)+"deg"})):(e.style.opacity=0,e.style.visibility="hidden",e.classList.remove("active"))}),document.querySelectorAll(".service-card-box").forEach((e,t)=>{e.classList.toggle("active",t===r)})};r(0)}),e,r=(window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{document.getElementById("animatedCircle")&&t()},250)}),null),o=()=>{var t,s;r&&r(),r=(t=".my-sticky",s=100,void ScrollTrigger.matchMedia({"(min-width: 992px)":()=>{var e=document.querySelectorAll(t);let o=[];return e.forEach(e=>{let t=e.parentElement;var r,i;t&&((r=document.createElement("div")).style.position="relative",r.style.height=e.classList.contains("sidebar-sticky")?0:e.offsetHeight+s+"px",t.insertBefore(r,e),r.appendChild(e),Object.assign(e.style,{position:"absolute",top:e.classList.contains("space-top-0")?0:s+"px",left:0,right:0}),i=ScrollTrigger.create({trigger:r,start:"top top",end:()=>"+="+(t.offsetHeight-e.offsetHeight-s),pin:e,pinSpacing:!1,scroller:"#smooth-wrapper",anticipatePin:1}),o.push({trigger:i,spacer:r,el:e}))}),()=>{o.forEach(({trigger:e,spacer:t,el:r})=>{e.kill();e=t.parentElement;e&&(e.insertBefore(r,t),e.removeChild(t)),Object.assign(r.style,{position:"",top:"",left:"",right:""})})}}}))};document.querySelectorAll(".sticky-update-btn").forEach(e=>{e.addEventListener("click",()=>{setTimeout(()=>{o()},200)})});return{init(){t();{let t=null;ScrollTrigger.matchMedia({"(min-width: 567px)":()=>{var e=document.querySelectorAll(".pxl-team-list .box-item");let l=[];e.forEach(s=>{let n=s.querySelector(".item-image"),a=n?.querySelector(".reveal-image");if(n&&a){let t=e=>{var t=e.currentTarget,r=t.getBoundingClientRect(),t=t.offsetWidth,i=n.offsetWidth,e=e.clientX-r.left,r=60+e;n.style.top="50%",n.style.transform="translateY(-50%)",t<r+i?(i=t-e,n.style.right=60+i+"px",n.style.left="auto"):(n.style.left=r+"px",n.style.right="auto")},r=()=>{gsap.killTweensOf(a),gsap.timeline().set(n,{opacity:1,zIndex:1e3}).fromTo(a,{scaleX:0,opacity:0,transformOrigin:"left center"},{scaleX:1,opacity:1,duration:.4,ease:"power2.out"})},e=()=>{gsap.killTweensOf(a),gsap.timeline().to(a,{scaleX:0,opacity:0,duration:.3,ease:"power2.in",transformOrigin:"right center"}).set(n,{opacity:0,zIndex:""})},i=e=>{t(e),r()},o=e=>{t(e)};s.addEventListener("mouseenter",i),s.addEventListener("mousemove",o),s.addEventListener("mouseleave",e),l.push(()=>{s.removeEventListener("mouseenter",i),s.removeEventListener("mousemove",o),s.removeEventListener("mouseleave",e)})}}),t=()=>{l.forEach(e=>e())}}})}ScrollTrigger.matchMedia({"(min-width: 1200px)":()=>{var e=gsap.utils.toArray(".content--sticky");let i=e.length,o=[];return e.forEach((e,t)=>{var t=t===i-1,r=(t||(r=ScrollTrigger.create({trigger:e,start:"top top",end:"bottom top",pin:!0,pinSpacing:!1,anticipatePin:1}),o.push(r)),gsap.timeline({scrollTrigger:{trigger:e,start:"top top",end:"+=100%",scrub:!0}}));r.to(e,{ease:"none",startAt:{filter:"brightness(100%) contrast(100%)"},filter:t?"none":"brightness(60%) contrast(135%)",yPercent:t?0:-15},0),r.to(e.querySelector(".content__img"),{scale:1.5,ease:"power1.in"},0)}),ScrollTrigger.refresh(),()=>{o.forEach(e=>e.kill())}}});{let s=document.querySelector(".site-header"),n=document.querySelector(".sidebar-sticky");if(s){let i=0,t,r=e=>{var t,r=!(e>i)&&0<e;s.classList.toggle("is-fixed",r),n&&(t=s.offsetHeight||80,n.style.top=r?t+10+"px":"60%"),i=e},o=()=>{var e;"function"==typeof a?.scrollTop?(e=a.scrollTop(),r(e)):(e=window.scrollY||document.documentElement.scrollTop,r(e)),t=requestAnimationFrame(o)};t=requestAnimationFrame(o)}}{let e=e=>{var t=e.target.closest('a[href^="#"]');t&&(t=t.getAttribute("href"))&&"#"!==t&&(t=t.slice(1),t=document.getElementById(t))&&(e.preventDefault(),"function"==typeof a?.scrollTo?a.scrollTo(t,!0):t.scrollIntoView({behavior:"smooth"}))};document.addEventListener("click",e)}o(),document.querySelectorAll(".img-zoom").forEach(e=>{let t=e.querySelector(".img-box");t&&ScrollTrigger.create({trigger:e,start:"top+=100 bottom",end:"bottom top",scrub:!0,onUpdate:e=>{e=e.progress,e=Math.min(1.5,1+e);t.style.transform=`scale(${e.toFixed(3)})`}})}),gsap.registerPlugin(ScrollTrigger,SplitText),ScrollTrigger.getAll().forEach(e=>{e.trigger?.classList?.contains("headline")&&e.kill()}),document.fonts.ready.then(()=>{document.body.querySelectorAll(".headline").forEach(e=>{let t=new SplitText(e,{type:"chars, words",charsClass:"char"}).chars;gsap.set(e,{opacity:0}),ScrollTrigger.create({trigger:e,start:"top 80%",once:!0,onEnter:()=>{gsap.fromTo(e,{opacity:0},{opacity:1,duration:.1,ease:"none"}),gsap.from(t,{duration:1.5,opacity:0,scale:0,y:80,rotationX:180,transformOrigin:"0% 50% -50",ease:"back.out(1.7)",stagger:.05})}})})});{class i{constructor(e){this.button=e,this.flair=e.querySelector(".button-flair"),this.flair&&(this.xSet=gsap.quickSetter(this.flair,"xPercent"),this.ySet=gsap.quickSetter(this.flair,"yPercent"),this.mouseEnterHandler=e=>{var{x:e,y:t}=this.getXY(e);this.xSet(e),this.ySet(t),gsap.to(this.flair,{scale:1,duration:.4,ease:"power2.out"})},this.mouseMoveHandler=e=>{var{x:e,y:t}=this.getXY(e);gsap.to(this.flair,{xPercent:e,yPercent:t,duration:.4,ease:"power2"})},this.mouseLeaveHandler=e=>{var{x:e,y:t}=this.getXY(e);gsap.killTweensOf(this.flair),gsap.to(this.flair,{xPercent:e,yPercent:t,scale:0,duration:.3,ease:"power2.out"})},this.addEvents())}getXY(e){var{left:t,top:r,width:i,height:o}=this.button.getBoundingClientRect();return{x:gsap.utils.clamp(0,100,gsap.utils.mapRange(0,i,0,100)(e.clientX-t)),y:gsap.utils.clamp(0,100,gsap.utils.mapRange(0,o,0,100)(e.clientY-r))}}addEvents(){this.button.addEventListener("mouseenter",this.mouseEnterHandler),this.button.addEventListener("mousemove",this.mouseMoveHandler),this.button.addEventListener("mouseleave",this.mouseLeaveHandler)}destroy(){this.button.removeEventListener("mouseenter",this.mouseEnterHandler),this.button.removeEventListener("mousemove",this.mouseMoveHandler),this.button.removeEventListener("mouseleave",this.mouseLeaveHandler)}}let r=[];var e=document.querySelectorAll(".flairBtn"),e;e.length&&e.forEach(t=>{if(!t.classList.contains("is-flair-initialized")){let e=new i(t);r.push(()=>e.destroy()),t.classList.add("is-flair-initialized")}}),(e=document.querySelectorAll(".magneticBtn")).length&&e.forEach(s=>{let n=gsap.quickTo(s,"x",{duration:1.2,ease:"power3.out"}),a=gsap.quickTo(s,"y",{duration:1.2,ease:"power3.out"}),e=e=>{var{left:t,top:r,width:i,height:o}=s.getBoundingClientRect(),t=e.clientX-(t+i/5),i=e.clientY-(r+o/5);n(t),a(i)},t=()=>{n(0),a(0)};s.addEventListener("mousemove",e),s.addEventListener("mouseleave",t),r.push(()=>{s.removeEventListener("mousemove",e),s.removeEventListener("mouseleave",t)})})}setTimeout(()=>{requestAnimationFrame(()=>{(()=>{if(document.querySelectorAll(".dz-hover-item").length){let i=(e,t)=>{var t=t[0],r=e.dataset.displacement,i=e.dataset.intensity||void 0,o=e.dataset.speedin||void 0,s=e.dataset.speedout||void 0,n=e.dataset.easing||void 0;let a=new hoverEffect({parent:e,intensity:i,speedIn:o,speedOut:s,easing:n,hover:!1,image1:t.getAttribute("src"),image2:t.getAttribute("src"),displacementImage:r,imagesRatio:t.naturalHeight/t.naturalWidth});i=e.closest(".dz-hover-item");i&&(i.addEventListener("mouseenter",()=>a.next()),i.addEventListener("mouseleave",()=>a.previous()))};document.querySelectorAll(".dz-hover-img").forEach(e=>{let t=e.querySelectorAll("img");var r=t[0];r.complete?i(e,t):r.addEventListener("load",()=>{i(e,t)})})}})()})},500),document.querySelectorAll(".custom-scroll").forEach(o=>{o.addEventListener("wheel",function(e){e.stopPropagation()},{passive:!1});let s=0,n=0;o.addEventListener("touchstart",e=>{e=e.touches[0];s=e.clientY,n=e.clientX},{passive:!0}),o.addEventListener("touchmove",e=>{var t=e.touches[0],r=s-t.clientY,i=n-t.clientX;o.scrollTop+=r,o.scrollLeft+=i,s=t.clientY,n=t.clientX,e.stopPropagation(),e.preventDefault()},{passive:!1})})}}};document.addEventListener("DOMContentLoaded",()=>{plexifyGsap().init()});let resizeTimeout;window.addEventListener("resize",()=>{clearTimeout(resizeTimeout),resizeTimeout=setTimeout(()=>{ScrollTrigger.refresh()},250)});